# 脚本字段定义

## 基本结构

脚本字段是一个 JSON 对象，必须包含以下字段:

- `type`: **字符串**，表示脚本的类型，如 `"javascript"`、`"python"` 等
- `$script`: **字符串**，表示脚本的具体内容

示例:
```json
{
  "type": "javascript",
  "$script": "func1('key1.key2')"
}
```

## 脚本字段的使用场景

脚本字段主要用于以下场景:

1. **数据转换**: 将一个数据格式转换为另一个格式
2. **数据验证**: 验证数据是否符合特定规则
3. **数据计算**: 根据其他字段的值计算得出当前字段的值
4. **外部调用**: 调用外部 API 或服务

## 脚本字段的特性

1. **语法高亮**: 编辑器会根据 `type` 字段对脚本内容进行相应的语法高亮
2. **代码提示**: 编辑器会根据上下文提供智能的代码补全建议
3. **错误检查**: 编辑器会对脚本内容进行语法检查，并显示错误提示
4. **格式化**: 编辑器支持对脚本内容进行格式化
5. **调试**: 支持脚本的调试功能，包括断点、单步执行等

## 安全性考虑

1. **沙箱环境**: 脚本在隔离的环境中执行，限制对系统资源的访问
2. **超时限制**: 脚本执行时间有上限，防止死循环
3. **内存限制**: 限制脚本可使用的最大内存
4. **API 限制**: 只允许调用白名单中的 API 